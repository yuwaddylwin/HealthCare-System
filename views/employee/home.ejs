<section class="dashboard-home">
    <h2>Welcome, <%= user.firstName %></h2>
    
    <div class="stats-cards">
        <div class="card">
            <div class="card-icon bg-primary">
                <i class="fas fa-users"></i>
            </div>
            <div class="card-content">
                <h3>Total Patients</h3>
                <p><%= patientCount %></p>
            </div>
        </div>
        
        <div class="card">
            <div class="card-icon bg-success">
                <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="card-content">
                <h3>Total Appointments</h3>
                <p><%= appointmentCount %></p>
            </div>
        </div>
    </div>
    
    <div class="recent-appointments">
        <h3>Recent Appointments</h3>
        <% if (recentAppointments && recentAppointments.length > 0) { %>
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Patient</th>
                        <th>Reason</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <% recentAppointments.forEach(appointment => { %>
                        <tr>
                            <td><%= appointment.date %></td>
                            <td><%= appointment.time %></td>
                            <td>
                                <% const patient = patients.find(p => p.id === appointment.patientId) %>
                                <%= patient ? `${patient.firstName} ${patient.lastName}` : 'Unknown' %>
                            </td>
                            <td><%= appointment.reason %></td>
                            <td><span class="status-badge <%= appointment.status.toLowerCase() %>"><%= appointment.status %></span></td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        <% } else { %>
            <p>No recent appointments found.</p>
        <% } %>
    </div>
</section>